不動産営業自動化SaaS『AI-Prophet』詳細開発指示書 (v1.1)

最終更新日: 2026年1月17日
現在のステータス: Phase 1 進行中（Chrome拡張プロトタイプ動作確認済み）

1. プロジェクトビジョン

不動産営業マンの最大の負担である「物件精査（ブツ出し）」と「長期の見込み客フォロー」を、生成AIとブラウザ拡張技術によって完全自動化する。営業マンが「普段通りポータルサイトを開くだけ」で、裏側でAIが全顧客への提案と法規制チェックを完結させるシステムを構築する。

2. 技術スタック（指定）

Frontend: Next.js (管理画面・ダッシュボード)

Backend: Firebase (Firestore, Functions, Auth, Hosting)

Browser Extension: Chrome Extension (Manifest V3 / TypeScript / Vanilla JS)

AI: Gemini 1.5 Pro / Flash API (RAGおよび構造化データ抽出用)

Communication: LINE Messaging API

Payment: Stripe (月額サブスクリプション実装)

3. 現在の実装状況 (2026/01/17時点)

実装済み機能 (Prototype)

Chrome拡張機能の骨子作成: Manifest V3準拠の基本構成 (manifest.json, background.js, content.js, popup.js, popup.html)。

データ収集機能 (The Hand - Alpha): 閲覧中のページタイトル、URL、HTML情報の取得に成功。

ローカル保存機能: chrome.storage.local を使用したデータ永続化と、ポップアップ画面でのリスト表示機能の実装完了。

次回実装予定

Firebase連携: 取得したデータをローカルではなくFirestoreへ送信する機能。

バックグラウンド自動巡回: ユーザー操作なしで特定のURLを裏側で巡回するロジックの実装。

4. 主要機能モジュール詳細

4.1. LINE要件解析・自動DB反映 (The Brain)

概要: 顧客がLINEで送る曖昧な希望条件を解析し、検索条件として構造化する。

要件:

LINE Messaging APIで受信したトークをGemini APIに投下。

エリア、価格、間取り、こだわり条件（学区、駐車場台数、ペット可等）をJSON形式で抽出。

既存条件の更新: 「やっぱり〇〇が良い」といった追加・修正発言を判別し、Firebaseの顧客条件を自動更新する。

4.2. 分散型バックグラウンド・スクレイピング (The Hand)

概要: 営業マンのブラウザを「情報の触手」とし、ログインが必要な業者サイトからデータを自動収集する。

動作トリガー: REINS、ITANDI BB、ATBB等、特定ドメインのログイン/トップページ遷移を検知。

全自動検索ロジック:

Firebaseから全顧客の検索条件を読み込む。

手入力不要: 検索条件をURLパラメータ（GETリクエスト）に自動変換し、非表示のオフスクリーン（Offscreen API）で検索結果ページを巡回。

AIパース: HTML構造に依存せず、Geminiのマルチモーダル機能等を用いて「物件詳細」から必要情報を抽出。

4.3. 宅建業法遵守：物件死活監視・価格改定検知 (The Compliance)

概要: 「おとり物件」を排除し、価格改定という営業チャンスを逃さない。

要件:

掲載終了検知: DB内の「公開中」物件URLを定期的にバックグラウンド巡回。

「掲載終了」「成約済み」「404」等の文言をAIが検知した瞬間、即座にDBのステータスを更新し、LINE提案対象から除外。

価格改定検知: 同一物件の価格・条件に変更があった場合、変更履歴を記録。

通知トリガー: 価格が下がった場合、その物件を検討中の顧客へ「プライスダウン通知」をLINEで自動下書き（または送信）。

4.4. 共有物件データベース & AIマッチング (The Assets)

概要: 社内の誰かが一度取得した物件を資産化し、全営業マンの顧客へマッチング。

要件:

営業マンAが取得した物件を社内共通DBに保存。

営業マンBの担当客に条件が合致すれば、即座にBの管理画面に「提案候補」として表示。

目利きプロンプト: 山本氏（宅建士）の知見を反映し、物件のメリット・デメリットをAIが整理して提案文を生成。

5. 開発マイルストーン (修正版)

Phase 1 (現在): Chrome Extension基本機能の実装。データ取得・ローカル保存まで完了。

Phase 2 (次回): Firebase連携とバックグラウンド巡回の実装。 特定1サイト（ITANDI BB等）からの全自動データ抽出。

Phase 3: LINE Messaging API連携。顧客条件の自動JSON化モジュールの作成。

Phase 4: Firebaseでのマッチングロジックおよび物件死活監視の実装。

Phase 5: ダッシュボードUI構築、Stripe決済連携、LP公開。

6. エンジニアへのメッセージ

「プロトタイプフォルダ ai-prophet-extension が存在します。基本動作（データ収集・表示）は確認済みです。次回はこのコードをベースに、データの保存先をChrome Local StorageからFirebase Firestoreへ変更し、実際の業者サイト（ITANDI等）のDOM構造に合わせたデータ抽出ロジックの実装へ進んでください。」